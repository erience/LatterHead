<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Letterhead Preview</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

    <style>
        body,
        html {
            height: 100%;
            margin: 0;
            background: #e9ecef;
            overflow: hidden;
        }

        /* TOP BAR */
        .topbar {
            height: 56px;
            background: #fff;
            padding: 10px 20px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1003;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
        }

        .btn-save {
            background: #28a745;
            color: #fff;
            border: none;
            padding: 8px 14px;
            border-radius: 4px;
        }

        .btn-print {
            background: #000;
            color: #fff;
            border: none;
            padding: 8px 14px;
            border-radius: 4px;
        }

        /* SIDEBAR */
        .sidebar {
            position: fixed;
            top: 56px;
            left: 0;
            width: 250px;
            height: calc(100vh - 56px);
            background: #f8f9fa;
            border-right: 1px solid #ddd;
            overflow-y: auto;
            transition: transform 0.3s ease;
            z-index: 1002;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }
        }

        .sidebar-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .sidebar-item:hover {
            background: #e6e6e6;
        }

        .sidebar-item.active {
            background: #eef5ff;
            border-left: 4px solid #0d6efd;
        }

        .sidebar img {
            width: 100%;
            border-radius: 4px;
        }

        /* IFRAME AREA */
        .preview-area {
            position: absolute;
            left: 250px;
            top: 56px;
            right: 0;
            bottom: 0;
        }

        @media (max-width: 768px) {
            .preview-area {
                left: 0;
            }
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* OVERLAY */
        #overlay {
            display: none;
        }

        @media (max-width: 768px) {
            #overlay {
                position: fixed;
                top: 56px;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.4);
                z-index: 900;
            }

            #overlay.show {
                display: block;
            }
        }
    </style>
</head>

<body>

    <!-- TOP BAR -->
    <div class="topbar">
        <!-- Mobile Toggle + Close (auto switch) -->
        <button class="btn text-dark border  d-md-none me-3" id="sidebarToggle">☰</button>
        <button class="btn text-dark border d-md-none me-3" id="sidebarClose" style="display:none;">✕</button>

        <h5 class="m-0 flex-grow-1">Letterheads</h5>
        <button class="btn-save me-2" onclick="saveToIframe()">Save</button>
        <button class="btn-print" onclick="printIframePage()">Print</button>
    </div>

    <!-- OVERLAY -->
    <div id="overlay"></div>

    <!-- SIDEBAR -->
    <div class="sidebar p-0" id="sidebar">



        <div class="sidebar-item" onclick="changeDesign('designs/design1.css', this)">
            <p>LetterHead 1</p>
            <img src="Image/Screenshot (106).png">
        </div>

        <div class="sidebar-item" onclick="changeDesign('designs/design2.css', this)">
            <p>LetterHead 2</p>
            <img src="Image/Screenshot (107).png">
        </div>

        <div class="sidebar-item" onclick="changeDesign('designs/design3.css', this)">
            <p>LetterHead 3</p>
            <img src="Image/Screenshot (108).png">
        </div>

        <div class="sidebar-item" onclick="changeDesign('designs/design4.css', this)">
            <p>LetterHead 4</p>
            <img src="Image/Screenshot (109).png">
        </div>

        <div class="sidebar-item" onclick="changeDesign('designs/design5.css', this)">
            <p>LetterHead 5</p>
            <img src="Image/Screenshot (110).png">
        </div>

        <div class="sidebar-item" onclick="changeDesign('designs/design6.css', this)">
            <p>LetterHead 6</p>
            <img src="Image/Screenshot (111).png">
        </div>
    </div>

    <!-- PREVIEW -->
    <div class="preview-area">
        <iframe id="previewFrame" src="LetterheadContent.html"></iframe>
    </div>

    <script>
        const sidebar = document.getElementById("sidebar");
        const overlay = document.getElementById("overlay");
        const sidebarToggle = document.getElementById("sidebarToggle");
        const sidebarClose = document.getElementById("sidebarClose");

        // OPEN SIDEBAR
        sidebarToggle.onclick = () => {
            sidebar.classList.add("open");
            overlay.classList.add("show");

            sidebarToggle.style.display = "none";     // hide ☰
            sidebarClose.style.display = "block";     // show X
        };

        // CLOSE SIDEBAR
        function hideSidebar() {
            sidebar.classList.remove("open");
            overlay.classList.remove("show");

            sidebarClose.style.display = "none";      // hide X
            sidebarToggle.style.display = "block";    // show ☰
        }

        sidebarClose.onclick = hideSidebar;
        overlay.onclick = hideSidebar;

        function saveToIframe() {
            const frame = document.getElementById("previewFrame");
            if (frame.contentWindow.saveData) frame.contentWindow.saveData();
        }

        function printIframePage() {
            const frame = document.getElementById("previewFrame");
            frame.contentWindow.print();
        }

        function changeDesign(cssFile, element) {
            const frame = document.getElementById("previewFrame");
            frame.contentWindow.document.getElementById("design-style").href = cssFile;

            document.querySelectorAll(".sidebar-item").forEach(item => item.classList.remove("active"));
            element.classList.add("active");

            if (window.innerWidth < 768) hideSidebar();
        }
    </script>

</body>

</html>